{"version":3,"sources":["../src/column_delegator.js"],"names":["init","delegator","document","getElementById","eventMethods","statusEvent","usageEvent","commentEvent","addEventListener","e","target","getAttribute","className","parentNode","split","questionId","courseId","hasOwnProperty"],"mappings":"2OA4BoB,QAAPA,CAAAA,IAAO,EAAM,IAClBC,CAAAA,CAAS,CAAGC,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,CADM,CAEhBC,CAAY,CAAG,CACjB,eAAkBC,aADD,CAEjB,cAAiBC,YAFA,CAGjB,aAAgBC,cAHC,CAFC,CAOtBN,CAAS,CAACO,gBAAV,CAA2B,OAA3B,CAAoC,SAACC,CAAD,CAAO,CACvC,GAAIA,CAAC,CAACC,MAAF,CAASC,YAAT,CAAsB,iBAAtB,CAAJ,CAA8C,IACtCD,CAAAA,CAAM,CAAGD,CAAC,CAACC,MAD2B,CAEtCE,CAAS,CAAGH,CAAC,CAACC,MAAF,CAASG,UAAT,CAAoBD,SAApB,CAA8BE,KAA9B,CAAoC,GAApC,EAAyC,CAAzC,CAF0B,CAGtCC,CAAU,CAAGN,CAAC,CAACC,MAAF,CAASC,YAAT,CAAsB,iBAAtB,CAHyB,CAK1C,GAAkB,cAAd,GAAAC,CAAJ,CAAkC,CAC9B,GAAII,CAAAA,CAAQ,CAAGN,CAAM,CAACC,YAAP,CAAoB,eAApB,CAAf,CAEAD,CAAM,CAAGM,CACZ,CACD,GAAIZ,CAAY,CAACa,cAAb,CAA4BL,CAA5B,CAAJ,CAA4C,CACxCR,CAAY,CAACQ,CAAD,CAAZ,CAAwBG,CAAxB,CAPY,CAOZ,CAA+CL,CAA/C,CACH,CACJ,CACJ,CAfD,CAgBH,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * The purpose of this module is to centralize delegators related to columns.\n *\n * @module     core_question/column_delegator\n * @copyright  2021 Catalyst IT Australia Pty Ltd\n * @author     Ghaly Marc-Alexandre <marc-alexandreghaly@catalyst-ca.net>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport {statusEvent} from 'qbank_editquestion/question_status';\nimport {usageEvent} from 'qbank_usage/usage';\nimport {commentEvent} from 'qbank_comment/comment';\n\nexport const init = () => {\n    let delegator = document.getElementById('categoryquestions');\n    const eventMethods = {\n        'questionstatus': statusEvent,\n        'questionusage': usageEvent,\n        'commentcount': commentEvent,\n    };\n    delegator.addEventListener('click', (e) => {\n        if (e.target.getAttribute('data-questionid')) {\n            let target = e.target;\n            let className = e.target.parentNode.className.split(' ')[0];\n            let questionId = e.target.getAttribute('data-questionid');\n            let contextId = 1;\n            if (className === 'commentcount') {\n                let courseId = target.getAttribute('data-courseid');\n                // Last parameter is courseId for commentEvent.\n                target = courseId;\n            }\n            if (eventMethods.hasOwnProperty(className)) {\n                eventMethods[className](questionId, contextId, target);\n            }\n        }\n    });\n};\n"],"file":"column_delegator.min.js"}