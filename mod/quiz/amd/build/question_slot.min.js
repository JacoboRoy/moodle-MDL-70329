define ("mod_quiz/question_slot",["exports","core/ajax","core/notification"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=d(b);c=d(c);function d(a){return a&&a.__esModule?a:{default:a}}var e={},f=function(a){var b="";if(a){b="-"+a}e={VERSION_LIST:"#version"+b,SLOT_ID:"#mod-indent-outer-slot"+b,QUESTION_NAME:"#questionname"+b,QUESTION_TEXT:"#questiontext"+b}},g=function(a){return b.default.call(a)[0].done(function(a){if(!0===a.result){document.querySelector(e.QUESTION_NAME).innerHTML=a.name;document.querySelector(e.QUESTION_TEXT).innerHTML=a.questiontext;var b=document.querySelector(e.SLOT_ID+" > .actions > .preview"),c=document.createElement("div");c.innerHTML=a.previewtag;b.replaceWith(c.firstChild);var d=document.querySelector(e.SLOT_ID+" > .activityinstance > a").href;d=new URL(d);var f=d.searchParams;f.set("id",a.questionid);d.search=f.toString();d=d.toString();document.querySelector(e.SLOT_ID+" > .activityinstance > a").href=d}}).fail(c.default.exception)},h=function(a){var b=document.querySelector(e.VERSION_LIST);b.addEventListener("change",function(){var c=parseInt(b.value),d=document.querySelector(e.SLOT_ID+" > .actions > .preview").href;f(a);g([{methodname:"mod_quiz_set_question_version",args:{slotid:a,newversion:c,previewurl:d}}])})};a.init=function init(a){f(a);h(a)}});
//# sourceMappingURL=question_slot.min.js.map
